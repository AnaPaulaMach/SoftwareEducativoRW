{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    
    <title>Nivel 5: Capa F√≠sica</title>
    
    <!-- Favicon para Nivel 5 -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ö°</text></svg>">
    
    <link rel="stylesheet" href="{% static 'aplicacion/estudiante/niveles.css' %}">
    <link rel="stylesheet" href="{% static 'aplicacion/estudiante/capa5.css' %}">
    <link rel="stylesheet" href="{% static 'aplicacion/style.css' %}">
</head>
<body>
    {% if user.is_authenticated %}
    
    <h1 class="title" style="margin-top: 30px; margin-bottom: 10px;">AVENTURA TCP/IP: CARRERA DE CAPAS üèÅ</h1>

    <div class="game-area">
        
        <div class="game-profile-meta">
            Jugando como: <strong>{{ user.alias|default:user.username }}</strong> | Rol: {{ user.rol }}
        </div>
        
        <h2 style="color: #0077B6; margin-bottom: 5px;">Nivel 5: Capa F√≠sica</h2>
        <p style="text-align: center; font-style: italic; margin-bottom: 15px;">Pregunta <span id="current-q-number">1</span> de <span id="total-questions">10</span>. ¬°Cada acierto te acerca a la Fibra √ìptica!</p>
        
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <form id="quiz-form" onsubmit="return false;"> 
            <div id="questions-container">
                </div>
            
            <div id="score-results" style="display: none;">
                <div class="score-display">Puntuaci√≥n Final: <span id="final-score"></span>/<span id="final-total">10</span></div>
                <div id="feedback-final" class="feedback"></div>
                
                <div id="review-container">
                    <h4>Revisi√≥n Detallada (Aciertos y Errores)</h4>
                    <div id="review-list"></div>
                </div>
            </div>

            <div class="nav-controls">
                <button type="button" id="prev-btn" disabled>‚Üê Anterior</button>
                <button type="button" id="check-btn">Verificar</button>
                <button type="button" id="next-btn" disabled>Siguiente ‚Üí</button>
                <button type="button" id="finish-btn" style="display:none;">Finalizar</button>
            </div>
        </form>

        <a href="{% url 'perfil_estudiante' %}" class="link-return" style="display: block; margin-top: 20px;">Volver al Men√∫ de Niveles</a>
    </div>

    <script>
        window.QUIZ_CONFIG = {
          saveResultUrl: "{% url 'save_quiz_result' %}",
          imgFibra: "{% static 'aplicacion/images/fibra.svg' %}",
          imgCat6: "{% static 'aplicacion/images/cat6.svg' %}",
          imgCat35: "{% static 'aplicacion/images/cat3_5.svg' %}"
        };

        // --------- BANCO DE PREGUNTAS (Capa F√≠sica - se mostrar√°n 10 al azar) ---------
        window.QUIZ_QUESTIONS = [
            {
                id: 1,
                type: "tf",
                text: "Verdadero o Falso: El medio f√≠sico puede tener muchas formas, y un mismo bit puede atravesar varios tipos de medio f√≠sico diferentes entre el origen y el destino.",
                options: [
                    { value: "verdadero", label: "VERDADERO" },
                    { value: "falso", label: "FALSO" }
                ],
                correct_answer: "verdadero",
                hint: "Pens√° en c√≥mo viaja Internet desde tu casa hasta tu proveedor: puede empezar en WiFi y luego pasar por cobre o fibra.",
                explanation: "A lo largo del recorrido, la se√±al puede pasar por WiFi, cable de cobre, fibra √≥ptica, etc. El medio f√≠sico no es √∫nico en toda la ruta.",
                correct_msg: "¬°Correcto! El mismo bit puede ir cambiando de 'veh√≠culo' f√≠sico en su recorrido.",
                incorrect_msg: "No es correcto. El medio f√≠sico no es √∫nico en todo el trayecto."
            },
            {
                id: 2,
                type: "mc",
                text: "¬øCu√°l de los siguientes grupos corresponde estrictamente a medios guiados?",
                options: [
                    { value: "a", label: "Radio terrestre, Sat√©lite, Microondas" },
                    { value: "b", label: "Cable de cobre de par trenzado, Cable coaxial, Fibra √≥ptica" },
                    { value: "c", label: "Bluetooth, WiFi, Ethernet" },
                    { value: "d", label: "Ondas de radio, Infrarrojo, Par trenzado" }
                ],
                correct_answer: "b",
                hint: "Los medios guiados confinan la se√±al en un conductor f√≠sico s√≥lido.",
                explanation: "Los medios guiados usan un soporte f√≠sico (cobre, coaxial, fibra) que gu√≠a la se√±al.",
                correct_msg: "¬°Bien! Par trenzado, coaxial y fibra son medios claramente guiados.",
                incorrect_msg: "Incorrecto. Record√° que los medios guiados necesitan un cable o gu√≠a f√≠sica."
            },
            {
                id: 3,
                type: "mc",
                text: "Relacionando categor√≠as de UTP y velocidad t√≠pica: ¬øcu√°l es la afirmaci√≥n correcta?",
                options: [
                    { value: "a1_b2", label: "Cat5: 10 Mbps a 1 Gbps, Cat6: hasta 10 Gbps" },
                    { value: "a2_b1", label: "Cat5: hasta 10 Gbps, Cat6: 10 Mbps a 1 Gbps" },
                    { value: "ambas_1gbps", label: "Cat5 y Cat6 solo soportan 1 Gbps m√°ximo" }
                ],
                correct_answer: "a1_b2",
                hint: "Las categor√≠as m√°s altas soportan mayores frecuencias y velocidades.",
                explanation: "Cat5 suele usarse hasta 1 Gbps, mientras que Cat6 est√° dise√±ada para llegar hasta 10 Gbps en ciertos escenarios.",
                correct_msg: "¬°Exacto! Cat5: hasta 1 Gbps, Cat6: hasta 10 Gbps.",
                incorrect_msg: "No es correcto. Pens√° en que Cat6 es una evoluci√≥n de Cat5."
            },
            {
                id: 4,
                type: "tf",
                text: "Verdadero o Falso: En el cable de par trenzado, los hilos se trenzan principalmente para que el cable sea m√°s resistente f√≠sicamente al estirarlo.",
                options: [
                    { value: "verdadero", label: "VERDADERO" },
                    { value: "falso", label: "FALSO" }
                ],
                correct_answer: "falso",
                hint: "Pens√° en interferencias el√©ctricas y diafon√≠a entre pares de cables.",
                explanation: "Los hilos se trenzan para reducir interferencias y diafon√≠a, no por resistencia mec√°nica.",
                correct_msg: "¬°Correcto! El objetivo principal es electromagn√©tico, no mec√°nico.",
                incorrect_msg: "Incorrecto. El trenzado sirve para disminuir interferencias, no para estirar m√°s el cable."
            },
            {
                id: 5,
                type: "sequence",
                text: "Orden√° los medios f√≠sicos de menor a mayor inmunidad a interferencias electromagn√©ticas (EMI).",
                sequence_items: [
                    { key: "utp", label: "Par trenzado no apantallado (UTP)" },
                    { key: "coaxial", label: "Cable coaxial (apantallado)" },
                    { key: "fibra", label: "Fibra √≥ptica" }
                ],
                correct_answer: ["utp", "coaxial", "fibra"],
                hint: "Pens√° en cu√°l est√° m√°s expuesto a interferencias y cu√°l casi no le afectan los campos el√©ctricos.",
                explanation: "UTP no tiene pantalla; el coaxial s√≠, y la fibra usa luz, pr√°cticamente inmune a EMI.",
                correct_msg: "¬°Muy bien! UTP < Coaxial < Fibra en inmunidad a EMI.",
                incorrect_msg: "El orden no es correcto. Revis√° qu√© medio ofrece m√°s protecci√≥n frente a interferencias."
            },
            {
                id: 6,
                type: "mc",
                text: "En fibra √≥ptica, ¬øqu√© representa cada pulso de luz que viaja por el n√∫cleo?",
                options: [
                    { value: "paquete", label: "Un paquete" },
                    { value: "trama", label: "Una trama" },
                    { value: "bit", label: "Un bit" },
                    { value: "byte", label: "Un byte" }
                ],
                correct_answer: "bit",
                hint: "La Capa F√≠sica trabaja con la unidad m√°s b√°sica de informaci√≥n digital.",
                explanation: "La capa f√≠sica transmite bits (1 o 0), no estructuras l√≥gicas como tramas o paquetes.",
                correct_msg: "¬°Correcto! Cada pulso de luz representa un bit.",
                incorrect_msg: "Incorrecto. La Capa F√≠sica no ve estructuras complejas, solo bits."
            },
            {
                id: 7,
                type: "tf",
                text: "Verdadero o Falso: En medios no guiados, como WiFi o sat√©lite, las ondas se propagan por la atm√≥sfera o el espacio exterior.",
                options: [
                    { value: "verdadero", label: "VERDADERO" },
                    { value: "falso", label: "FALSO" }
                ],
                correct_answer: "verdadero",
                hint: "No hay un cable f√≠sico que contenga la se√±al, esta viaja libremente.",
                explanation: "En medios no guiados la se√±al se propaga por el aire o el vac√≠o, sin un conductor f√≠sico.",
                correct_msg: "¬°Bien! Describiste correctamente los medios no guiados.",
                incorrect_msg: "No es correcto. Los medios no guiados no usan conductores f√≠sicos."
            },
            {
                id: 8,
                type: "mc",
                text: "Situacion Hipotetica: Un ingeniero necesita atravesar paredes y dar conectividad a usuarios m√≥viles en distancias cortas. ¬øQu√© medio f√≠sico est√° utilizando?",
                options: [
                    { value: "fibra", label: "Fibra monomodo" },
                    { value: "radio", label: "Canales de radio terrestres (ej. WiFi)" },
                    { value: "microondas", label: "Enlace de microondas punto a punto" }
                ],
                correct_answer: "radio",
                hint: "Pens√° en tecnolog√≠as como WiFi dentro de un edificio.",
                explanation: "La radio terrestre (WiFi) permite movilidad y puede atravesar ciertas paredes en distancias cortas.",
                correct_msg: "¬°Correcto! Ese escenario describe canales de radio terrestres.",
                incorrect_msg: "Incorrecto. Fibra y microondas punto a punto no dan esa movilidad local."
            },
            {
                id: 9,
                type: "mc",
                text: "¬øCu√°l es la funci√≥n principal de un Hub (concentrador) en una red Ethernet en estrella, vista desde la Capa F√≠sica?",
                options: [
                    { value: "almacenar_tramas", label: "Almacenar y reenviar tramas seg√∫n la MAC" },
                    { value: "enrutar_ip", label: "Enrutar paquetes seg√∫n direcci√≥n IP" },
                    { value: "regenerar_bit", label: "Regenerar el bit y transmitirlo a todas las interfaces" },
                    { value: "csma_cd", label: "Aplicar CSMA/CD para evitar colisiones" }
                ],
                correct_answer: "regenerar_bit",
                hint: "Es un dispositivo muy simple, casi como un repetidor multi-puerto.",
                explanation: "El Hub trabaja en Capa 1, solo regenera y replica las se√±ales a todos los puertos.",
                correct_msg: "¬°Exacto! Un Hub simplemente regenera la se√±al y la copia a todos los puertos.",
                incorrect_msg: "Incorrecto. El Hub no toma decisiones con direcciones MAC o IP."
            },
            {
                id: 10,
                type: "tf",
                text: "Verdadero o Falso: Un repetidor es un dispositivo de la Capa F√≠sica que recibe una se√±al, la regenera y permite extender la longitud del enlace.",
                options: [
                    { value: "verdadero", label: "VERDADERO" },
                    { value: "falso", label: "FALSO" }
                ],
                correct_answer: "verdadero",
                hint: "Su funci√≥n es combatir la atenuaci√≥n en enlaces largos.",
                explanation: "Al regenerar la se√±al, el repetidor permite que la misma informaci√≥n viaje distancias mayores.",
                correct_msg: "¬°Correcto! Esa es la funci√≥n t√≠pica de un repetidor de Capa F√≠sica.",
                incorrect_msg: "Incorrecto. Justamente el objetivo del repetidor es regenerar la se√±al para ampliar el alcance."
            },
            {
                id: 11,
                type: "mc",
                text: "Relacionando modos de transmisi√≥n: ¬øcu√°l de estas combinaciones es correcta?",
                options: [
                    { value: "simplex_tv", label: "Simplex: un solo sentido permanente (ej. TV tradicional)" },
                    { value: "half_duplex_llamada", label: "Half-Duplex: ambos pueden hablar a la vez (ej. llamada telef√≥nica)" },
                    { value: "full_duplex_walkie", label: "Full-Duplex: solo uno habla a la vez (ej. walkie-talkie)" }
                ],
                correct_answer: "simplex_tv",
                hint: "Pens√°: en la TV tradicional el canal baja hacia vos, pero vos no envi√°s nada de vuelta.",
                explanation: "Simplex es un solo sentido; Half-Duplex alterna env√≠o/recepci√≥n; Full-Duplex permite ambos a la vez.",
                correct_msg: "¬°Bien! Simplex es un solo sentido, como la televisi√≥n tradicional.",
                incorrect_msg: "No es correcto. Revis√° qu√© ejemplo encaja con comunicaci√≥n en un solo sentido."
            },
            {
                id: 12,
                type: "tf",
                text: "Verdadero o Falso: La unidad b√°sica de informaci√≥n que maneja la Capa F√≠sica es el bit.",
                options: [
                    { value: "verdadero", label: "VERDADERO" },
                    { value: "falso", label: "FALSO" }
                ],
                correct_answer: "verdadero",
                hint: "Las capas superiores hablan de tramas, datagramas, etc. La f√≠sica trabaja m√°s abajo.",
                explanation: "La Capa F√≠sica transmite bits (1 y 0), que luego las capas superiores agrupan en unidades mayores.",
                correct_msg: "¬°Correcto! En la Capa F√≠sica todo se reduce a bits.",
                incorrect_msg: "Incorrecto. Tramas y paquetes aparecen en capas superiores."
            },
            {
                id: 13,
                type: "mc",
                text: "Para conectar directamente dos PCs entre s√≠ (PC‚ÄìPC) en equipos antiguos sin auto-MDIX, ¬øqu√© tipo de cable UTP se utiliza?",
                options: [
                    { value: "directo", label: "Cable directo (Straight-through)" },
                    { value: "consola", label: "Cable de consola (Rollover)" },
                    { value: "cruzado", label: "Cable cruzado (Crossover)" }
                ],
                correct_answer: "cruzado",
                hint: "Cuando conect√°s dispositivos del mismo tipo, suele requerirse cruzar las l√≠neas TX/RX.",
                explanation: "Sin auto-MDIX, los dispositivos iguales necesitan un cable cruzado para alinear transmisi√≥n y recepci√≥n.",
                correct_msg: "¬°Exacto! PC‚ÄìPC y Switch‚ÄìSwitch antiguos usan cable cruzado.",
                incorrect_msg: "Incorrecto. El cable cruzado es el que intercambia los pares de transmisi√≥n y recepci√≥n."
            },
            {
    id: 14,
    type: "sequence",
    text: "Orden√° los colores de los primeros 3 pines de la norma T568A (del pin 1 al 3).",
    sequence_items: [
        { key: "blanco_verde", label: "Blanco/Verde", css_class: "pin pin-bv" },
        { key: "verde",         label: "Verde",        css_class: "pin pin-v" },
        { key: "blanco_naranja",label: "Blanco/Naranja", css_class: "pin pin-bn" }
    ],
    correct_answer: ["blanco_verde", "verde", "blanco_naranja"],
    hint: "La norma A comienza con la familia del verde, y los pines impares suelen usar Blanco/Color.",
    explanation: "En T568A el orden inicial es: 1) Blanco/Verde, 2) Verde, 3) Blanco/Naranja.",
    correct_msg: "¬°Correcto! Ese es el orden de los primeros tres pines en T568A.",
    incorrect_msg: "El orden no coincide con la norma T568A. Repas√° el patr√≥n de colores."
},
            {
                id: 15,
                type: "mc",
                situacion_hipotetica: true,
                text: "Si conect√°s todos los nodos de una oficina mediante cables a un dispositivo central (Hub o Switch), ¬øqu√© topolog√≠a f√≠sica est√°s usando?",
                options: [
                    { value: "bus", label: "Bus" },
                    { value: "anillo", label: "Anillo" },
                    { value: "estrella", label: "Estrella" },
                    { value: "malla", label: "Malla" }
                ],
                correct_answer: "estrella",
                hint: "Imagin√° los cables como rayos que salen de un punto central.",
                explanation: "La forma 'en estrella' se da cuando todos los enlaces salen de un nodo central hacia cada dispositivo.",
                correct_msg: "¬°Bien! Eso describe una topolog√≠a f√≠sica en estrella.",
                incorrect_msg: "Incorrecto. Visualiz√° un nodo central y cables hacia cada equipo."
            },
            {
                id: 16,
                type: "mc",
                text: "Sobre multiplexaci√≥n: ¬øcu√°l de estas descripciones corresponde a FDM (Frecuency Division Multiplexing)?",
                options: [
                    { value: "fdm", label: "Cada conexi√≥n tiene una banda de frecuencia dedicada dentro del espectro." },
                    { value: "tdm", label: "Cada conexi√≥n usa todo el canal, pero solo durante breves intervalos de tiempo." }
                ],
                correct_answer: "fdm",
                hint: "Pens√° en varias emisoras de radio transmitiendo a la vez en frecuencias distintas.",
                explanation: "FDM reparte el espectro en bandas; cada usuario ocupa una frecuencia fija. TDM reparte el tiempo.",
                correct_msg: "¬°Correcto! Esa descripci√≥n corresponde a FDM.",
                incorrect_msg: "Incorrecto. Lo que describ√≠s suena m√°s a TDM (reparto en el tiempo)."
            },
            {
                id: 17,
                type: "mc",
                text: "¬øC√≥mo se llama el fen√≥meno por el cual la intensidad de la se√±al disminuye al propagarse por un medio (cable o aire)?",
                options: [
                    { value: "interferencia", label: "Interferencia" },
                    { value: "atenuacion", label: "Atenuaci√≥n" },
                    { value: "latencia", label: "Latencia" },
                    { value: "colision", label: "Colisi√≥n" }
                ],
                correct_answer: "atenuacion",
                hint: "No se trata de ruido externo ni de tiempo de espera, sino de p√©rdida de fuerza de la se√±al.",
                explanation: "La atenuaci√≥n es la p√©rdida de potencia de una se√±al al viajar a trav√©s de un medio.",
                correct_msg: "¬°Correcto! Esa disminuci√≥n de intensidad se llama atenuaci√≥n.",
                incorrect_msg: "Incorrecto. No hablamos de ruido agregado ni de retardo, sino de p√©rdida de potencia de la se√±al original."
            }
        ];
    </script>
    <script src="{% static 'aplicacion/estudiante/juego_capa_5.js' %}"></script>
    {% else %}
        <h1>Acceso Denegado</h1>
        <p>Necesitas iniciar sesi√≥n para ver esta p√°gina.</p>
    </div>
    {% endif %}
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-inner">
            <!-- Bloque izquierdo: Marca + cr√©ditos -->
            <div class="footer-left">
                <p class="footer-brand">Aventura TCP/IP</p>
                <p class="footer-meta">
                    Desarrollado por: Coria Luz Antonella, Proserpio Eliana Naily y Ana Paula Machado
                </p>
                <p class="footer-meta">
                    Asignatura Optativa: Inform√°tica Educativa ¬∑ Licenciatura en Sistemas de Informaci√≥n ¬∑ UNSE ¬∑ 2025
                </p>
                <!-- Bibliograf√≠a -->
                <p class="footer-meta footer-biblio">
                    Basado en contenidos de: Redes de Computadoras. Un Enfoque Descendente (7ma Ed.)
                </p>
                <!-- Uso √©tico de IA -->
                <p class="footer-meta footer-ai">
                    Herramientas de apoyo utilizadas: ChatGPT, Gemini y NotebookLM
                </p>
            </div>
            <!-- Bloque derecho: etiquetas -->
            <div class="footer-right">
                <span class="footer-tag">Proyecto acad√©mico</span>
                <span class="footer-tag footer-role">Versi√≥n 1.0</span>
            </div>
        </div>
    </footer>
</body>
</html>

